graph TB
    subgraph "Traditional Sidecar Architecture (Legacy)"
        subgraph "Pod A"
            AppA["Application A<br/>ğŸš€ Business Logic"]
            ProxyA["Envoy Proxy<br/>ğŸ”„ Sidecar"]
        end
        
        subgraph "Pod B"
            AppB["Application B<br/>ğŸš€ Business Logic"]
            ProxyB["Envoy Proxy<br/>ğŸ”„ Sidecar"]
        end
        
        UserSpace["User Space<br/>ğŸ“Š 4x Context Switches<br/>ğŸ’¸ High CPU Overhead<br/>â±ï¸ Millisecond Latency"]
        
        AppA --> ProxyA
        ProxyA -.->|"Network"| ProxyB
        ProxyB --> AppB
        
        ProxyA --> UserSpace
        ProxyB --> UserSpace
    end
    
    subgraph "eBPF Architecture (Modern)"
        subgraph "Node"
            AppC["Application C<br/>ğŸš€ Business Logic"]
            AppD["Application D<br/>ğŸš€ Business Logic"]
            
            KernelSpace["Kernel Space<br/>âš¡ eBPF Programs<br/>ğŸ”§ Cilium CNI<br/>ğŸ›¡ï¸ Tetragon Security"]
        end
        
        AppC -.->|"Direct Kernel"| KernelSpace
        AppD -.->|"Direct Kernel"| KernelSpace
        KernelSpace -.->|"Zero-Copy Networking"| AppC
        KernelSpace -.->|"Zero-Copy Networking"| AppD
    end
    
    subgraph "Performance Comparison"
        SidecarPerf["Sidecar Performance<br/>ğŸŒ 20-50ms latency<br/>ğŸ’¾ 2x memory usage<br/>ğŸ”¥ High CPU for serialization"]
        
        EbpfPerf["eBPF Performance<br/>âš¡ Microsecond latency<br/>ğŸ’¾ 50% less memory<br/>ğŸš€ Kernel-native efficiency"]
        
        VKIndex["VaquarKhan (Khan) Index<br/>K_x = (K_efficiency^Î²) / (C_load^Î±) Ã— Î¦_semantic<br/><br/>eBPF: Higher K_efficiency<br/>Sidecar: Higher C_load"]
    end
    
    UserSpace --> SidecarPerf
    KernelSpace --> EbpfPerf
    
    SidecarPerf --> VKIndex
    EbpfPerf --> VKIndex
    
    classDef sidecar fill:#ffcdd2,stroke:#d32f2f,stroke-width:2px
    classDef ebpf fill:#c8e6c9,stroke:#388e3c,stroke-width:2px
    classDef performance fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef formula fill:#e1f5fe,stroke:#0277bd,stroke-width:3px
    
    class AppA,AppB,ProxyA,ProxyB,UserSpace,SidecarPerf sidecar
    class AppC,AppD,KernelSpace,EbpfPerf ebpf
    class VKIndex formula